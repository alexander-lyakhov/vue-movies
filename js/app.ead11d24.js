(function(t){function e(e){for(var n,r,o=e[0],c=e[1],u=e[2],l=0,f=[];l<o.length;l++)r=o[l],s[r]&&f.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var o=a[r];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},r={app:0},s={app:0},i=[];function o(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"b0875779","chunk-5b5a3994":"e733bc42"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={about:1,"chunk-5b5a3994":1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise(function(e,a){for(var n="css/"+({about:"about"}[t]||t)+"."+{about:"19cd0c11","chunk-5b5a3994":"14d2861b"}[t]+".css",s=c.p+n,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===s))return e()}var f=document.getElementsByTagName("style");for(o=0;o<f.length;o++){u=f[o],l=u.getAttribute("data-href");if(l===n||l===s)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete r[t],d.parentNode.removeChild(d),a(i)},d.href=s;var v=document.getElementsByTagName("head")[0];v.appendChild(d)}).then(function(){r[t]=0}));var n=s[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise(function(e,a){n=s[t]=[e,a]});e.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t),u=function(e){l.onerror=l.onload=null,clearTimeout(f);var a=s[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+n+": "+r+")");i.type=n,i.request=r,a[1](i)}s[t]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/vue-movies/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"01b7":function(t,e,a){},"0324":function(t,e,a){},"078f":function(t,e,a){"use strict";var n=a("01b7"),r=a.n(n);r.a},1205:function(t,e,a){"use strict";var n=a("0324"),r=a.n(n);r.a},1358:function(t,e,a){},"1ccb":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"radio-selector"},[t._t("default")],2)},r=[],s=(a("c574"),a("2877")),i={},o=Object(s["a"])(i,n,r,!1,null,"1e557e7f",null),c=o.exports,u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"radio-group"},[t._t("default")],2)},l=[],f=(a("ccd6"),{}),d=Object(s["a"])(f,u,l,!1,null,null,null),v=(d.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("input",{attrs:{type:"radio",name:t.name},domProps:{checked:t.checked,value:t.val},on:{input:t.fireInputEvent}}),a("span",[t._v(t._s(t.label))])])}),h=[],m={name:"RadioItem",props:{name:{type:String,default:"group"},checked:{type:Boolean,default:!1},label:{type:String,default:"Title"},val:{type:String,default:""}},created:function(){this.checked&&this.fireInputEvent()},methods:{fireInputEvent:function(){this.$emit("input",this.val)}}},p=m,b=Object(s["a"])(p,v,h,!1,null,null,null),g=b.exports;a.d(e,"b",function(){return c}),a.d(e,"a",function(){return g})},"365c":function(t,e,a){"use strict";var n=a("bc3a"),r=a.n(n),s=a("ed08");function i(t){return r.a.get("/movies",{params:t})}function o(t){return r.a.get("/movies/".concat(t))}r.a.defaults.baseURL="http://react-cdp-api.herokuapp.com",r.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",r.a.interceptors.request.use(function(t){return s["a"].isLoading=!0,t},function(t){return s["a"].isLoading=!1,Promise.reject(t)}),r.a.interceptors.response.use(function(t){return s["a"].isLoading=!1,t},function(t){return s["a"].isLoading=!1,Promise.reject(t)}),e["a"]={getMovies:i,getMovieById:o}},"38b9":function(t,e,a){"use strict";var n=a("790d"),r=a.n(n);r.a},"3ca9":function(t,e,a){"use strict";var n=a("5074"),r=a.n(n);e["default"]=r.a},"3d76":function(t,e,a){"use strict";var n=a("49f6"),r=a.n(n);e["default"]=r.a},"49f6":function(t,e,a){},5074:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("keep-alive",[a("router-view")],1)],1)},s=[],i=a("2877"),o=a("3d76"),c={},u=Object(i["a"])(c,r,s,!1,null,null,null);"function"===typeof o["default"]&&Object(o["default"])(u);var l=u.exports,f=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-layout",{staticClass:"movies",scopedSlots:t._u([{key:"header",fn:function(){return[a("search-panel")]},proxy:!0},{key:"status-area",fn:function(){return[a("span",{staticClass:"found"},[t._v("Results found: "+t._s(t.total))]),a("sort-panel")]},proxy:!0},{key:"main",fn:function(){return[a("movie-grid",{on:{reset:t.reset}}),t.isLoading?t._e():a("div",{staticClass:"pagination-wrapper"},[a("pagination",{attrs:{totalItems:t.total,itemsPerPage:t.limit,maxButtons:9},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),a("div",{staticClass:"about-section"},[a("router-link",{attrs:{to:"about"}},[t._v("About")])],1)]},proxy:!0}])})},v=[],h=a("cebc"),m=a("2f62"),p=a("5935"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title"},[t._v("\n    Search movie\n  ")]),a("div",{staticClass:"query"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchQuery,expression:"searchQuery",modifiers:{trim:!0}}],ref:"query-input",staticClass:"query-input",attrs:{type:"text"},domProps:{value:t.searchQuery},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setSearch(e)},input:function(e){e.target.composing||(t.searchQuery=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("a",{staticClass:"query-clear",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clearSearch(e)}}},[t._v("+")])]),a("div",{staticClass:"controls"},[a("span",{staticClass:"search-by"},[t._v("Search by")]),a("radio-selector",{staticClass:"drop-shadow"},[a("radio-item",{attrs:{name:"searchBy",val:"title",label:"Title",checked:"title"===t.searchBy},model:{value:t.searchBy,callback:function(e){t.searchBy=e},expression:"searchBy"}}),a("radio-item",{attrs:{name:"searchBy",val:"genres",label:"Genre",checked:"genres"===t.searchBy},model:{value:t.searchBy,callback:function(e){t.searchBy=e},expression:"searchBy"}})],1),a("a",{staticClass:"button btn-search lg",attrs:{href:"#"},on:{click:t.setSearch}},[t._v("Search")])],1)])},g=[],y=(a("386d"),a("7f7f"),a("1ccb")),_={name:"SearchPanel",components:{radioSelector:y["b"],radioItem:y["a"]},data:function(){return{searchQuery:""}},mounted:function(){this.$refs["query-input"].focus()},watch:{search:function(t){this.searchQuery=t},$route:function(t,e){"home"===t.name&&(this.searchBy=t.params.searchBy||"title",this.search=t.params.search||"")}},computed:Object(h["a"])({},Object(p["b"])("movies",["searchBy","search","sortBy","sortOrder"])),methods:{setSearch:function(){this.$store.commit("movies/SET_SEARCH",this.searchQuery)},clearSearch:function(){this.searchQuery="",this.setSearch(),this.$refs["query-input"].focus()}}},O=_,k=(a("b3e4"),Object(i["a"])(O,b,g,!1,null,"6b709c8e",null)),C=k.exports,P=a("5f88"),B=a("dbf4"),x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?t._e():a("div",{staticClass:"movies"},[t.movies.length?t._l(t.movies,function(t){return a("movie-item",{key:t.id,attrs:{movie:t}})}):[a("div",{staticClass:"not-found"},[t._v("\n      No Movies Found\n    ")])]],2)},j=[],E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"movie-item--wrapper",on:{click:function(e){return t.gotoToMovie(t.movie.id)}}},[a("div",{staticClass:"movie-item"},[a("img",{attrs:{src:t.movie.poster_path}}),a("div",{staticClass:"release-date"},[t._v(t._s(t.movie.release_date.substr(0,4)))]),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[t._v(t._s(t.movie.title))])])])])},S=[],w={name:"movie-item",props:{movie:Object,required:!0,default:function(){return{}}},created:function(){},methods:{gotoToMovie:function(t){this.$router.push({name:"movie",params:{id:t}})}}},$=w,M=(a("bf1f"),Object(i["a"])($,E,S,!1,null,"0d34bab6",null)),I=M.exports,T={name:"MovieGrid",components:{movieItem:I},created:function(){this.getMovies()},computed:Object(h["a"])({},Object(m["b"])("movies",["movies","search","searchBy","searchIn","offset","sortBy","sortOrder"])),watch:{search:function(t,e){this.offset?this.reset():this.getMovies()},searchBy:function(t,e){this.offset?this.reset():this.getMovies()},searchIn:function(t,e){this.offset?this.reset():this.getMovies()},sortBy:function(t,e){this.offset?this.reset():this.getMovies()},sortOrder:function(t,e){this.offset?this.reset():this.getMovies()},offset:function(t,e){this.getMovies()}},methods:{getMovies:function(){this.$store.dispatch("movies/GET_MOVIES").catch(function(t){return console.log("-- ERROR --",t)})},reset:function(){this.$emit("reset")}}},L=T,A=(a("5c5c"),Object(i["a"])(L,x,j,!1,null,"3c234ff2",null)),N=A.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isVisible?a("ul",{staticClass:"pagination noselect",on:{click:t.paginationClick}},[a("li",{staticClass:"prev",class:{hidden:1===t.value},on:{click:function(e){return e.stopPropagation(),t.prev(e)}}},[t._v(" < ")]),a("li",{class:{current:1===t.value}},[t._v("1")]),1===t.condition?t._l(t.range,function(e){return a("li",{key:e,class:{current:t.value===e}},[t._v(t._s(e))])}):2===t.condition?[t._l(t.range,function(e){return a("li",{key:e,class:{current:t.value===e}},[t._v(t._s(e))])}),a("li",{staticClass:"dots"},[t._v("...")])]:3===t.condition?[a("li",{staticClass:"dots"},[t._v("...")]),t._l(t.range,function(e){return a("li",{key:e,class:{current:t.value===e}},[t._v(t._s(e))])})]:[a("li",{staticClass:"dots"},[t._v("...")]),t._l(t.range,function(e){return a("li",{key:e,class:{current:t.value===e}},[t._v(t._s(e))])}),a("li",{staticClass:"dots"},[t._v("...")])],a("li",{class:{current:t.value===t.totalPages}},[t._v(t._s(t.totalPages))]),a("li",{staticClass:"next",class:{hidden:t.value===t.totalPages},on:{click:function(e){return e.stopPropagation(),t.next(e)}}},[t._v(" > ")])],2):t._e()},R=[],Q=(a("ac6a"),a("75fc")),V=(a("c5f6"),{name:"pagination",props:{totalItems:{type:Number,default:100,required:!0},itemsPerPage:{type:Number,default:24},maxButtons:{type:Number,default:7},value:{type:Number,default:1}},data:function(){return{totalPages:0,totalButtons:0}},created:function(){var t=this;this.$watch("totalItems",function(e,a){return t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage)},{immediate:!0}),this.totalButtons=this.$props.maxButtons<5?5:this.$props.maxButtons},watch:{value:function(t,e){this.changePage(t)}},computed:{condition:function(){var t=this.$data,e=t.totalPages,a=t.totalButtons;return e<=a?1:e>a&&this.value<=Math.ceil(a/2)?2:e>a&&e-this.value<a>>1?3:4},range:function(){var t=this.$data,e=t.totalPages,a=t.totalButtons,n=0,r=0;switch(this.condition){case 1:n=2,r=e-2;break;case 2:n=2,r=a-3;break;case 3:n=e-a+3,r=a-3;break;default:n=this.value-(a-4>>1),r=a-4}return r>0?Object(Q["a"])(Array(r).keys()).map(function(t){return n+t}):[]},isVisible:function(){return this.totalPages>1}},methods:{paginationClick:function(t){var e=parseInt(t.target.textContent);isNaN(e)||this.changePage(e)},prev:function(){this.changePage(this.value-1)},next:function(){this.changePage(this.value+1)},changePage:function(t){this.$emit("input",t)}}}),G=V,U=(a("6dc6"),Object(i["a"])(G,q,R,!1,null,"777a5f30",null)),D=U.exports,F={name:"home",components:{pageLayout:B["a"],searchPanel:C,sortPanel:P["a"],movieGrid:N,pagination:D},data:function(){return{currentPage:1}},watch:{currentPage:function(t,e){this.offset=(t-1)*this.limit}},computed:Object(h["a"])({},Object(m["b"])("movies",["total","limit"]),Object(p["b"])("movies",["offset"])),methods:{reset:function(){this.currentPage=1}}},H=F,J=(a("1205"),Object(i["a"])(H,d,v,!1,null,"1df48a25",null)),Z=J.exports;n["a"].use(f["a"]);var K=new f["a"]({mode:"history",base:"/vue-movies/",routes:[{path:"/",name:"home",component:Z},{path:"/movie/:id",name:"movie",component:function(){return a.e("chunk-5b5a3994").then(a.bind(null,"def6"))}},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"*",redirect:"/"}]}),z=(a("96cf"),a("3b8d")),W=a("365c"),X={namespaced:!0,state:{movies:[],total:0,search:"",searchBy:"title",sortBy:"",sortOrder:"",offset:0,limit:12},getters:{getField:p["a"]},mutations:{updateField:p["c"],SET_SEARCH:function(t,e){t.search!==e&&(t.search=e)},POPULATE_MOVIES:function(t,e){t.movies=e.data,t.total=e.total}},actions:{GET_MOVIES:function(){var t=Object(z["a"])(regeneratorRuntime.mark(function t(e){var a,n,r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,n=e.commit,r={search:a.search,searchBy:a.searchBy,sortBy:a.sortBy,sortOrder:a.sortOrder,offset:a.offset,limit:a.limit},t.next=4,W["a"].getMovies(r);case 4:return s=t.sent,n("POPULATE_MOVIES",s.data),t.abrupt("return",s);case 7:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()}};n["a"].use(m["a"]);var Y=new m["a"].Store({modules:{movies:X}}),tt=a("ed08"),et={computed:{isLoading:function(){return tt["a"].isLoading}}};a("5a8b"),a("b7e3");n["a"].config.productionTip=!1,n["a"].mixin(et),new n["a"]({router:K,store:Y,render:function(t){return t(l)}}).$mount("#app")},"5a8b":function(t,e,a){},"5c5c":function(t,e,a){"use strict";var n=a("af0f"),r=a.n(n);r.a},"5f88":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"status-area"},[a("div",{staticClass:"status-bar"},[t._t("default")],2)])},r=[],s=(a("078f"),a("2877")),i={},o=Object(s["a"])(i,n,r,!1,null,"6adb6aa0",null),c=o.exports,u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sort-panel"},[a("span",{staticClass:"sort-by"},[t._v("Sort by")]),a("radio-selector",{staticClass:"small"},[a("radio-item",{attrs:{name:"sortBy",val:"title",label:"Title",checked:""},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}),a("radio-item",{attrs:{name:"sortBy",val:"release_date",label:"Date"},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}})],1),a("span",{staticClass:"sort-order"},[t._v("Sort order")]),a("radio-selector",{staticClass:"small"},[a("radio-item",{attrs:{name:"sortOrder",val:"asc",label:"A-Z",checked:""},model:{value:t.sortOrder,callback:function(e){t.sortOrder=e},expression:"sortOrder"}}),a("radio-item",{attrs:{name:"sortOrder",val:"desc",label:"Z-A"},model:{value:t.sortOrder,callback:function(e){t.sortOrder=e},expression:"sortOrder"}})],1)],1)},l=[],f=a("cebc"),d=a("5935"),v=a("1ccb"),h={name:"sort-panel",components:{radioSelector:v["b"],radioItem:v["a"]},computed:Object(f["a"])({},Object(d["b"])("movies",["sortBy","sortOrder"]))},m=h,p=(a("853c"),Object(s["a"])(m,u,l,!1,null,"76e02a0a",null)),b=p.exports;a.d(e,"b",function(){return c}),a.d(e,"a",function(){return b})},"6dc6":function(t,e,a){"use strict";var n=a("d617"),r=a.n(n);r.a},"790d":function(t,e,a){},"853c":function(t,e,a){"use strict";var n=a("1358"),r=a.n(n);r.a},"881c":function(t,e,a){},"8ac4":function(t,e,a){},a1ef:function(t,e,a){},af0f:function(t,e,a){},b3e4:function(t,e,a){"use strict";var n=a("881c"),r=a.n(n);r.a},b7e3:function(t,e,a){},bf1f:function(t,e,a){"use strict";var n=a("bf8e"),r=a.n(n);r.a},bf8e:function(t,e,a){},c574:function(t,e,a){"use strict";var n=a("8ac4"),r=a.n(n);r.a},ccd6:function(t,e,a){"use strict";var n=a("a1ef"),r=a.n(n);r.a},d617:function(t,e,a){},dbf4:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("header",[a("page-header",[t._t("header")],2)],1),a("status-area",[t._t("status-area")],2),a("main",[t._t("main")],2),t.isLoading?a("div",{staticClass:"modal"},[a("div",{staticClass:"modal__overlay"}),a("div",{staticClass:"modal__message"},[t._v("Loading...")])]):t._e()],1)},r=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-header"},[t._t("default")],2)},i=[],o=a("2877"),c=a("3ca9"),u={},l=Object(o["a"])(u,s,i,!1,null,null,null);"function"===typeof c["default"]&&Object(c["default"])(l);var f=l.exports,d=a("5f88"),v={name:"page-layout",components:{pageHeader:f,statusArea:d["b"]}},h=v,m=(a("38b9"),Object(o["a"])(h,n,r,!1,null,"07645ec2",null));e["a"]=m.exports},ed08:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var n=a("2b0e"),r=n["a"].observable({isLoading:!1})}});